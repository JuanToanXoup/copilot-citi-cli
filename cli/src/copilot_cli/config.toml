# Copilot CLI Configuration
# All paths support ~ expansion

# macOS (Apple Silicon):
#copilot_binary = "~/Library/Application Support/JetBrains/*/plugins/github-copilot-intellij/copilot-agent/native/darwin-arm64/copilot-language-server"
#apps_json = "~/.config/github-copilot/apps.json"

# macOS (Intel):
# copilot_binary = "~/Library/Application Support/JetBrains/*/plugins/github-copilot-intellij/copilot-agent/native/darwin-x64/copilot-language-server"

# Windows:
# copilot_binary = "~/AppData/Local/JetBrains/*/plugins/github-copilot-intellij/copilot-agent/native/win32-x64/copilot-language-server.exe"
# apps_json = "%APPDATA%/github-copilot/apps.json"

# Linux:
# copilot_binary = "~/.local/share/JetBrains/*/plugins/github-copilot-intellij/copilot-agent/native/linux-x64/copilot-language-server"

# Default workspace directory (used when -w is not specified).
# Also available as {workspace} in MCP server args.
#workspace = "~/IdeaProjects/copilot-citi-cli"

# Available models: "gpt-4.1", "gemini-2.5-pro", "claude-sonnet-4"
default_model = "gpt-4.1"

#[proxy]
#url = "http://webproxy.wlb2.nam.nsroot.net:19015"
#no_ssl_verify = false

# LSP servers for code intelligence (auto-detected if installed)
# Servers start lazily on first tool use.
[lsp.python]
command = "npx"
args = ["-y", "pyright", "--langserver", "--stdio"]

[lsp.typescript]
command = "npx"
args = ["-y", "typescript-language-server", "--stdio"]

[lsp.java]
command = "npx"
args = ["-y", "jdtls", "-stdio"]

[lsp.kotlin]
command = "npx"
args = ["-y", "kotlin-language-server"]

[lsp.gherkin]
command = "npx"
args = ["-y", "@cucumber/language-server", "--stdio"]

#[lsp.go]
#command = "gopls"
#args = ["serve"]

#[lsp.rust]
#command = "rust-analyzer"
#args = []

# MCP servers - auto-routes to server-side if org allows,
# otherwise falls back to client-side
[mcp.playwright]
command = "npx"
args = ["-y", "@playwright/mcp@latest"]

[mcp.mermaid]
command = "npx"
args = ["-y", "@peng-shawn/mermaid-mcp-server"]
#env = { HTTP_PROXY = "http://webproxy.wlb2.nam.nsroot.net:19015", HTTPS_PROXY = "http://webproxy.wlb2.nam.nsroot.net:19015" }

[mcp.qdrant]
command = "uvx"
args = ["mcp-server-qdrant"]

# Context7 — live library documentation (Playwright, Selenium, Cucumber, Java, etc.)
# Provides resolve_library_id + get_library_docs tools via the Context7 API.
# Alternative: uncomment below to use the official Context7 MCP server directly.
#[mcp.context7]
#command = "npx"
#args = ["-y", "@upstash/context7-mcp@latest"]

# IntelliJ IDE index MCP — use url (SSE) if IDE is running, or command (stdio) for headless
[mcp.intellij-index]
url = "http://127.0.0.1:29170/index-mcp/sse"
#command = "/Users/johndoan/IdeaProjects/ide-index/headless-idea.sh"
#args = ["{workspace}"]
#init_timeout = 300
